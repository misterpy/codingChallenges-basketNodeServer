(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{183:function(e,t,i){"use strict";i.r(t),i.d(t,"CUDEvent",function(){return a});var n=i(22);class a extends n.ViewEvent{constructor(e){super(),this.action=e}}},184:function(e,t,i){"use strict";i.r(t),i.d(t,"Code",function(){return r});var n=i(0),a=i(6),s=i(64);class r extends a.View{constructor(e){super(e),Object(s.getHighlightService)().then(e=>{this._hljs=e,this.refresh()})}render(e){return this._hljs&&this._hljs.getLanguage(e.language)?Object(n.h)("pre",{dangerouslySetInnerHTML:{__html:this._hljs.highlight(e.language,e.code||"").value}}):Object(n.h)("pre",null,e.code)}}},261:function(e,t,i){"use strict";i.r(t),i.d(t,"COMMENT_MAX_SIZE",function(){return s}),i.d(t,"isOpen",function(){return r}),i.d(t,"isRunning",function(){return o}),i.d(t,"ChallengeInvitationService",function(){return l});var n=i(24),a=i(59);const s=2e3;function r(e){return Object(a.isOpen)(e.invitationState)}function o(e){return Object(a.isRunning)(e.invitationState)}class l extends n.ApiService{constructor(){super(),this.api.apiBaseUrl="/"}completeReview(e){return this.api.put(`api/challenge-invitation/${e}/completereview`,{})}createQualifyingInvitation(e){return this.api.post("api/challenge-invitation/createqualifying",{challengeId:e})}deleteComment(e,t,i,n,a){var s=this.getCommentUrl(e,t,i,n,a);return this.api.delete(s)}deleteSummaryPoint(e,t,i,n){var a=this.getSummaryPointUrl(e,t,i,n);return this.api.delete(a)}get(e){return this.api.get(`api/challenge-invitation/${e}`).then(e=>this.sanitizeChallengeInvitation(e))}getReference(e){return this.api.get(`api/challenge-invitation/${e}/reference`).then(e=>this.sanitizeChallengeInvitation(e))}getReviewGuidelines(e){return this.api.get(`api/challenge-invitation/${e}/reviewguidelines`)}getReview(e){return this.api.get(`api/challenge-invitation/${e}/review`).then(e=>this.sanitizeChallengeInvitation(e))}getReviewSummaryOnly(e){return this.api.get(`api/challenge-invitation/${e}/reviewsummary`).then(e=>this.sanitizeChallengeInvitation(e))}getAvailableToReview(){return this.api.get("api/challenge-invitation/availablereviews")}getFilteredChallengeInvitationsForHirer(e){return this.api.get("api/challenge-invitation/open",{page:e.page,state:e.states&&e.states.join(","),firstname:e.firstname,lastname:e.lastname,campaignId:e.campaignId})}getMyInvitations(){return this.api.get("api/challenge-invitation/recipient")}getMyOpenCompletedInvitations(){return this.api.get("api/challenge-invitation/recipient/complete")}getMyOpenInvitations(){return this.api.get("api/challenge-invitation/recipient/open")}getMyCompletedReviews(e){return this.api.get("api/challenge-invitation/approved-reviews",{page:e.page})}getOthersCompletedReviews(e){return this.api.get("api/challenge-invitation/approved-reviews-others",{page:e.page})}ownReview(e){return this.api.put(`api/challenge-invitation/${e}/ownreview`,{}).then(e=>this.sanitizeChallengeInvitation(e))}joinReview(e){return this.api.put(`api/challenge-invitation/${e}/joinreview`,{}).then(e=>this.sanitizeChallengeInvitation(e))}initialiseReview(e){return this.api.put(`api/challenge-invitation/${e}/initialisereview`,{})}approveReview(e){return this.api.put(`api/challenge-invitation/${e}/approve`,{})}pushToCodeReview(e){return this.api.put(`api/challenge-invitation/${e}/endnow`,{})}updateLastView(e){return this.api.put(`api/challenge-invitation/${e}/view`,{})}getLastView(e){return this.api.get(`api/challenge-invitation/${e}/view`,{})}extendVoid(e,t){return this.api.put(`api/challenge-invitation/${e}/extend`,{extensionPeriod:t})}saveSummaryPoint(e,t,i,n){var a=this.getSummaryPointUrl(e,t,i,n),s={content:i.content.trim(),sentiment:i.sentiment};return i.parent&&delete s.sentiment,i.id?this.api.put(a,s):(i.parent&&(a+="/"+i.parent.id),this.api.post(a,s))}saveComment(e,t,i,n,a){var s=this.getCommentUrl(e,t,i,n,a),r={content:n.content.trim(),ratingType:n.ratingType,sentiment:n.sentiment};return n.parent&&(delete r.ratingType,delete r.sentiment),n.id?this.api.put(s,r):(n.parent&&(s+="/"+n.parent.id),this.api.post(s,r))}getApiUrlStem(e){return e?"public/code-review":"api/challenge-invitation"}getCommentUrl(e,t,i,n,a){var s=`${this.getApiUrlStem(a)}/${e}/codefile/${t}/line/${i}/comment`;return n&&n.id&&(s+="/"+n.id),s}getSummaryPointUrl(e,t,i,n){var a=`${this.getApiUrlStem(n)}/${e}/summary/${t}/point`;return i&&i.id&&(a+="/"+i.id),a}sanitizeChallengeInvitation(e){for(const t of e.submissionCodeFiles)if(void 0===t.lines)t.lines=[];else for(const e of t.lines)if("comments"in e)for(const t of e.comments)this.sanitizeLineComment(t);return e}sanitizeLineComment(e){for(let t of e.children)t.parent=e,this.sanitizeLineComment(t)}setRating(e,t,i){return this.api.put(`api/challenge-invitation/${e}/rating/${t.id}`,{score:i})}}},267:function(e,t,i){"use strict";i.r(t),i.d(t,"Editor",function(){return c});var n=i(0),a=i(6),s=i(299),r=i(91),o=i(7),l=i(4),h=i(16);class c extends a.View{constructor(){super(...arguments),this.togglePreview=(()=>{this.setState({preview:!this.state.preview})})}render(e){const t=Object(n.h)(s.TextArea,{autosize:!0,modelValue:e.modelValue,noFormField:!0,onchange:e.onchange,onTextLengthChange:this.getUpdateCountFunction(e)}),i=Object(n.h)(r.MarkdownDisplay,{markdown:e.modelValue.get()||"",noHighlight:e.noHighlight});this.determineState(e);const a=this.state.preview?i:t,c=this.state.preview?"Edit":"Preview";return Object(n.h)("div",{class:"markdown-editor container-fluid mui--z1"},Object(n.h)(o.Row,null,a),Object(n.h)("div",{class:"editor-footer"},Object(n.h)("span",{class:"info"},Object(n.h)("i",{class:"icon icon-markdown"})," ",Object(n.h)(l.Anchor,{external:!0,href:"https://guides.github.com/features/mastering-markdown/"},"Markdown")," ","editor"),Object(n.h)("div",{class:"spacer"}),this.displayCharactersUsed(e),Object(n.h)(h.Button,{class:"toggle-edit mui-btn mui-btn--small",link:!0,onPress:this.togglePreview},c),e.children))}getUpdateCountFunction(e){if(null!=e.maxTextLength)return e=>{this.setState({charactersUsed:e})}}displayCharactersUsed(e){if(null!=e.maxTextLength){const t=["characters-left"],i=this.getCharactersUsed(e);return i>e.maxTextLength&&t.push("too-many-characters"),Object(n.h)("div",{className:t.join(" ")},i," / ",e.maxTextLength)}}getCharactersUsed(e){return null!=this.state.charactersUsed?this.state.charactersUsed:null!=e.modelValue&&null!=e.modelValue.get()?e.modelValue.get().length:0}determineState(e){let t=e.modelValue.get();null==this.state.preview&&null!=e.startWithPreview&&t&&t.trim().length>0&&this.setState({preview:e.startWithPreview})}}},299:function(e,t,i){"use strict";i.r(t),i.d(t,"TextArea",function(){return r});var n=i(0),a=i(41),s=i(26);class r extends s.InputBase{constructor(){super(...arguments),this._height=void 0,this.autosize=(()=>{this.base&&(this.base.style.height="auto",this._height=this.base.offsetHeight-this.base.clientHeight+this.base.scrollHeight,this.base.style.height=this._height+"px")}),this.onInput=(e=>{if(this.props.autosize&&this.autosize(),this.props.onTextLengthChange){const t=this.getValue(e);this.props.onTextLengthChange(t?t.length:0)}})}getValue(e){const t=e.target;if(t instanceof HTMLTextAreaElement)return t.value}render(e,t){e.autosize&&requestAnimationFrame(this.autosize);let i=e.class||"";t.focus&&(i+=" focused");const s=e.modelValue.get();s&&(i+=" is-not-empty");let r=s||"";if(t.focus){const t=e.noFormField?this.base:this.base&&this.base.querySelector("textarea");t instanceof HTMLTextAreaElement&&(r=t.value)}const o=Object(n.h)("textarea",{onChange:this.onChange,onInput:this.onInput,class:i,id:e.id,onFocus:this.onFocus,onBlur:this.onBlur,disabled:e.disabled,rows:e.rows,cols:e.cols,style:this._height&&`height: ${this._height}px`,value:r});return e.noFormField?o:Object(n.h)(a.FormField,{validateValue:e.modelValue},o,e.placeholder&&Object(n.h)("label",null,e.placeholder))}componentDidUnmount(){delete this._height}}},317:function(e,t,i){"use strict";i.r(t),i.d(t,"HandleSaveRemoveCombinationEvent",function(){return a});var n=i(22);class a extends n.ViewEvent{constructor(e){super(),this.content=e}}}}]);