(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{289:function(e,t,n){"use strict";n.r(t),n.d(t,"FilesInZip",function(){return r}),n.d(t,"ToggleViewIgnoredFilesInZipEvent",function(){return l});var i=n(0),s=n(6),o=n(22),c=n(17);class r extends s.View{constructor(){super(...arguments),this.toggleViewIgnored=(()=>{this.emit(new l)})}render(e){return Object(i.h)("div",{class:"files-in-zip"},Object(i.h)("h4",null,"Files in your submitted ZIP archive"),Object(i.h)("ul",null,Object(i.h)("li",null,Object(i.h)("strong",null,"We have received your ZIP file submission on our servers.")),Object(i.h)("li",null,Object(i.h)("strong",null,"Files shown below ",Object(i.h)("span",{class:"ignored"},"in red")," will be ",Object(i.h)("span",{class:"ignored"},"IGNORED"))," ","(see ",Object(i.h)("a",{href:"https://github.com/github/gitignore",target:"_blank"},"github/gitignore"),"). ",Object(i.h)("span",{class:"text-highlight padded"},"These files will NOT be reviewed.")),Object(i.h)("li",null,"Please make sure that ALL files shown as ",Object(i.h)("strong",null,"valid")," (",Object(i.h)("strong",null,"bold black"),") are relevant."," ","If you use non-standard directory naming for example, irrelevant files may not have been ignored"," ","automatically and may pollute your review. ",Object(i.h)("strong",null,"Please remove such files manually"),"."),e.minutesRemaining&&e.minutesRemaining>0&&Object(i.h)("li",null,Object(i.h)("strong",null,"You still have time to resubmit")," using the button above.")),Object(i.h)("div",{class:"hide-ignored"},"Show the files that will be ignored and will not be reviewed ?",Object(i.h)("input",{type:"radio",name:"hideIgnored",value:"true",checked:e.hideIgnored,onChange:this.toggleViewIgnored})," ",Object(i.h)("span",null,"NO"),Object(i.h)("input",{type:"radio",name:"hideIgnored",value:"false",checked:!e.hideIgnored,onChange:this.toggleViewIgnored})," ",Object(i.h)("span",null,"YES")),Object(i.h)("ul",{class:"none"},e.files.map(t=>{if(!t.dir){if(!e.hideIgnored)return Object(i.h)("li",{class:t.ignored?"ignored":""},t.path);if(!t.ignored)return Object(i.h)("li",{class:t.ignored?"ignored":""},t.path)}return null})))}}!function(e,t,n,i){var s,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(c=(o<3?s(c):o>3?s(t,n,c):s(t,n))||c);o>3&&c&&Object.defineProperty(t,n,c)}([Object(c.default)()],r.prototype,"toggleViewIgnored",void 0);class l extends o.ViewEvent{constructor(){super()}}},318:function(e,t,n){"use strict";n.r(t),n.d(t,"ViewCodeFile",function(){return r});var i=n(0),s=n(6),o=n(724),c=n(481);class r extends s.View{render(e){const t=e.codeFile;if(!t)return null;let n;if(t.nonTextFile)n=Object(i.h)(c.default,{codeFile:t,challengeInvitation:e.challengeInvitation});else if(n=Object(i.h)("div",{class:"view-code-file line-diff"},Object(i.h)("table",null,t.lines.map(n=>Object(i.h)(o.ViewCodeFileLine,{key:this.generateLineKey(n),mergeLineNumbers:e.mergeLineNumbers,challengeInvitation:e.challengeInvitation,codeFile:t,line:n,language:t.fileExt,busyComments:e.busyComments||new Set,ratings:e.challengeInvitation.ratings,forceViewMode:e.forceViewMode,publicView:e.publicView,lastViewTimestamp:e.lastViewTimestamp})))),e.simple)return n;return Object(i.h)("div",{class:"code-file"},Object(i.h)("h3",{id:"code-file-"+t.id},t.path),n)}generateLineKey(e){return"hunkIdentifier"in e?"hunk-"+e.hunkIdentifier:`line-${e.lnum}-${e.rnum}`}}},319:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var i=n(0),s=n(6),o=n(725),c=n(726),r=n(1),l=n(10);class a extends s.View{render(e){const t=r.UserService.instance.getCurrentProfile(),n=r.UserService.isSignedIn(t)?t.id:void 0,s=r.UserService.instance.is(l.ADMIN),d=r.UserService.instance.isUberGeek(),h=r.UserService.instance.is(l.OADMIN)||r.UserService.instance.isOReviewer(),m=e.comment;let u="comment code-file-line-comment ",p=void 0;if(e.notEditable)p=Object(i.h)(c.ViewCodeFileComment,{comment:m,canComment:!1}),u+="view-code-file-line-comment";else{const l=e.challengeInvitation.reviewOwner?e.challengeInvitation.reviewOwner.id:null,a=e.challengeInvitation.recipient?e.challengeInvitation.recipient.id:null,b=e.challengeInvitation.owner?e.challengeInvitation.owner.id:null,g=!m.approved&&(m.authorId===n||e.publicView&&m.authorId===a)&&(!m.children||0===m.children.length),v=r.UserService.isSignedIn(t)&&m.authorId!==n&&(l===n||a===n||d||h||b===n)||e.publicView&&m.authorId!==a||!1,f=!m.approved&&(m.authorId===n||e.publicView&&m.authorId===a)&&!(m.children&&m.children.length>0)||!1;p=!g&&!s||e.forceViewMode?Object(i.h)(c.ViewCodeFileComment,{challengeInvitation:e.challengeInvitation,codeFile:e.codeFile,line:e.line,comment:m,canComment:v,forceViewMode:e.forceViewMode,publicView:e.publicView,lastViewTimestamp:e.lastViewTimestamp}):Object(i.h)(o.default,{challengeInvitation:e.challengeInvitation,codeFile:e.codeFile,line:e.line,comment:m,busyComments:e.busyComments,ratings:e.ratings,canComment:v,canRemove:f,publicView:!!e.publicView}),u+=(g?"edit":"view")+"-code-file-line-comment"}return Object(i.h)("div",{class:u},p,m.children&&m.children.length>0&&Object(i.h)("div",{class:"child-comments"},m.children.map(t=>Object(i.h)(a,Object.assign({},e,{comment:t})))))}}},360:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentChangeEvent",function(){return s});var i=n(183);class s extends i.CUDEvent{constructor(e,t,n,i,s,o){super(e),this.codeFile=t,this.line=n,this.publicView=i,this.comment=s,this.recipientId=o}}},406:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r}),n.d(t,"ExpandCodeFileLine",function(){return l});var i=n(0),s=n(6),o=n(16),c=n(22);class r extends s.View{constructor(){super(...arguments),this.onExpandDown=(()=>{this.onExpand(!1)}),this.onExpandUp=(()=>{this.onExpand(!0)})}onExpand(e){this.emit(new l(this.props.codeFile,this.props.codeFileLine,e))}render({codeFile:e,codeFileLine:t}){if(e.lines[0]===t&&e.lines[1]){const t=e.lines[1];if(1===t.rnum||1===t.lnum)return null}return Object(i.h)("tr",{class:"expander"},Object(i.h)("td",{colSpan:3},Object(i.h)(o.Button,{class:"expand-down",link:!0,onPress:this.onExpandDown},"↓ expand down"),Object(i.h)(o.Button,{class:"expand-up",link:!0,onPress:this.onExpandUp},"↑ expand up")))}}class l extends c.ViewEvent{constructor(e,t,n){super(),this.codeFile=e,this.codeFileLine=t,this.up=n}}},478:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var i=n(0),s=n(6),o=n(51),c=n(17),r=function(e,t,n,i){var s,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(c=(o<3?s(c):o>3?s(t,n,c):s(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c};class l extends s.View{constructor(){super(...arguments),this.setNegative=(()=>this.props.onChange(o.NEGATIVE)),this.setNegative2=(()=>this.props.onChange(o.NEGATIVE2)),this.setPositive=(()=>this.props.onChange(o.POSITIVE)),this.setPositive2=(()=>this.props.onChange(o.POSITIVE2)),this.setNeutral=(()=>this.props.onChange(o.NEUTRAL))}render(e){var t="sentiment-positive",n="sentiment-positive",s="sentiment-negative",c="sentiment-negative",r="sentiment-neutral";return e.sentiment===o.NEGATIVE?s+=" active":e.sentiment===o.NEGATIVE2?c+=" active":e.sentiment===o.POSITIVE?t+=" active":e.sentiment===o.POSITIVE2?n+=" active":e.sentiment===o.NEUTRAL&&(r+=" active"),Object(i.h)("span",{class:"sentiment edit-sentiment"},Object(i.h)("a",{class:c,onClick:this.setNegative2,onTouchEnd:this.setNegative2},Object(i.h)("i",{class:"icon icon-thumbs-down"}),Object(i.h)("i",{class:"icon icon-thumbs-down"}),"Very Negative"),Object(i.h)("a",{class:s,onClick:this.setNegative,onTouchEnd:this.setNegative},Object(i.h)("i",{class:"icon icon-thumbs-down"}),"Negative"),Object(i.h)("a",{class:r,onClick:this.setNeutral,onTouchEnd:this.setNeutral},"Neutral"),Object(i.h)("a",{class:t,onClick:this.setPositive,onTouchEnd:this.setPositive},Object(i.h)("i",{class:"icon icon-thumbs-up"}),"Positive"),Object(i.h)("a",{class:n,onClick:this.setPositive2,onTouchEnd:this.setPositive2},Object(i.h)("i",{class:"icon icon-thumbs-up"}),Object(i.h)("i",{class:"icon icon-thumbs-up"}),"Very Positive"))}}r([Object(c.default)()],l.prototype,"setNegative",void 0),r([Object(c.default)()],l.prototype,"setNegative2",void 0),r([Object(c.default)()],l.prototype,"setPositive",void 0),r([Object(c.default)()],l.prototype,"setPositive2",void 0),r([Object(c.default)()],l.prototype,"setNeutral",void 0)},479:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var i=n(0),s=n(6),o=n(51);class c extends s.View{render(e){var t,n="sentiment-icon ";switch(e.sentiment){case o.POSITIVE2:n+="sentiment-positive two",t=[Object(i.h)("i",{class:"icon icon-thumbs-up"}),Object(i.h)("i",{class:"icon icon-thumbs-up"})];break;case o.POSITIVE:n+="sentiment-positive",t=[Object(i.h)("i",{class:"icon icon-thumbs-up"})];break;case o.NEGATIVE:n+="sentiment-negative",t=[Object(i.h)("i",{class:"icon icon-thumbs-down"})];break;case o.NEGATIVE2:n+="sentiment-negative two",t=[Object(i.h)("i",{class:"icon icon-thumbs-down"}),Object(i.h)("i",{class:"icon icon-thumbs-down"})];break;default:n+="sentiment-neutral",t=[Object(i.h)("i",{class:"icon"},"●")]}return Object(i.h)("span",{class:n},t)}}},480:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentAuthorIcon",function(){return r});var i=n(0),s=n(6),o=n(265),c=n(1);class r extends s.View{constructor(e){super(e)}getNameForCommentAuthor(){const e=this.props.comment,t=this.props.challengeInvitation,n=e&&e.authorId;if(n&&t){const e=t.reviewOwner;if(t.reviewOwner&&t.reviewOwner.id===n)return e.firstName+" "+e.lastName;for(let e of t.reviewers||[])if(e.id===n)return e.firstName+" "+e.lastName}return null}render(e){const t=e.challengeInvitation,n=e.comment,s=c.UserService.instance.getCurrentProfile(),r=c.UserService.isSignedIn(s)?s.id:void 0,l=t.reviewers&&t.reviewers.length>1,a=t.owner&&n.authorId===t.owner.id,d=n.authorId===t.reviewOwner.id,h=n.authorId===t.recipient.id;if(n.authorId===r||e.publicView&&n.authorId===t.recipient.id)return Object(i.h)("img",{src:"/images/icons/you.png",class:"identicon",title:"Your comment"});{const e=this.getNameForCommentAuthor();return h?Object(i.h)("img",{src:"/images/icons/candidate.png",class:"identicon recipient",title:"Candidate comment"}):d&&t.evaluator===o.GEEKTASTIC?Object(i.h)("img",{src:"/images/icons/ubergeek.png",class:"identicon",title:"ÜberGeek comment"}):c.UserService.isSignedIn(s)&&s.organisation?Object(i.h)("img",{src:"/public/identicon/"+n.authorId,class:"identicon",title:e?"Author: "+e:""}):n&&!h&&l?Object(i.h)("img",{src:"/public/identicon/"+n.authorId,class:"identicon",title:"icons distinguish different reviewers"}):a&&!l?Object(i.h)("img",{src:"/images/icons/hirer.png",class:"identicon",title:"Hirer comment"}):Object(i.h)("img",{src:"/public/identicon/"+n.authorId,class:"identicon",title:"Comment author"})}}}},481:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(0),s=n(6);class o extends s.View{render(e){if(!e.challengeInvitation||!e.codeFile)return null;const t="/submission-file/"+e.challengeInvitation.id+"/"+e.codeFile.id+"."+e.codeFile.fileExt;return Object(i.h)("img",{src:t,alt:""})}}},724:function(e,t,n){"use strict";n.r(t),n.d(t,"ViewCodeFileLine",function(){return l});var i=n(0),s=n(6),o=n(184),c=n(406),r=n(319);class l extends s.View{render(e){const t=e.line;if("hunkIdentifier"in t)return Object(i.h)(c.default,{codeFile:e.codeFile,codeFileLine:t});let n="line ";const s=void 0!==t.lnum;n+=s!==(void 0!==t.rnum)?s?"line-removed":"line-added":"line-not-modified";const l=e.mergeLineNumbers&&t.lnum===t.rnum;return Object(i.h)("tr",{class:n},l&&Object(i.h)("td",{class:"lnum",colSpan:2},t.lnum),!l&&Object(i.h)("td",{class:"lnum"},t.lnum),!l&&Object(i.h)("td",{class:"rnum"},t.rnum),Object(i.h)("td",{class:"code"},Object(i.h)("div",{class:"code-wrapper"},Object(i.h)(o.Code,{code:t.content,language:e.language})),"comments"in t&&t.comments.map(n=>Object(i.h)(r.default,{challengeInvitation:e.challengeInvitation,notEditable:!1,codeFile:e.codeFile,line:t,comment:n,ratings:e.ratings,busyComments:e.busyComments,forceViewMode:e.forceViewMode,publicView:e.publicView,lastViewTimestamp:e.lastViewTimestamp}))))}}},725:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return g});var i=n(0),s=n(6),o=n(261),c=n(360),r=n(267),l=n(478),a=n(60),d=n(17),h=n(59),m=n(10),u=n(1),p=n(13),b=n(317);class g extends s.View{constructor(){super(...arguments),this.finishEdit=(()=>{const e=this.getCommentElement();e&&(e.className="comment edit-code-file-line-comment"),this.emit(new c.CommentChangeEvent(1,this.props.codeFile,this.props.line,this.props.publicView,this.props.comment))}),this.commentChangedWhenExplicitSave=(()=>{const e=this.getCommentElement();e&&(e.className="comment edit-code-file-line-comment unsaved")}),this.setSentiment=(e=>{this.props.comment.sentiment=e,this.finishEdit()}),this.wasRemoveClicked=(e=>{const t=e.target;let n=!1;t instanceof HTMLElement&&(n=t.classList.contains("remove")),n&&(!this.props.comment||!this.props.comment.id)&&this.props.comment&&this.props.comment.content.length>0&&this.emit(new b.HandleSaveRemoveCombinationEvent(this.props.comment.content))}),this.onRemove=(e=>{e.preventDefault(),this.emit(new c.CommentChangeEvent(2,this.props.codeFile,this.props.line,this.props.publicView,this.props.comment))}),this.onComment=(()=>{this.emit(new c.CommentChangeEvent(0,this.props.codeFile,this.props.line,this.props.publicView,this.props.comment))})}getCommentElement(){return document.getElementById("comment"+(this.props.comment.id?this.props.comment.id:0))}render(e){const t=e.comment,n=!!t.parent,s=e.busyComments.has(t),c=e.challengeInvitation.invitationState===h.REVIEWAPPROVED,d=t.id,b=u.UserService.instance.is(m.ADMIN);return t&&!t.ratingType&&(t.ratingType=""),Object(i.h)("div",{class:"comment edit-code-file-line-comment",id:"comment"+(d||"0"),onClick:this.wasRemoveClicked},Object(i.h)(r.Editor,{onchange:c?this.commentChangedWhenExplicitSave:this.finishEdit,modelValue:new p.ModelValue(t,"content"),maxTextLength:o.COMMENT_MAX_SIZE},(e.canRemove||b)&&Object(i.h)("a",{class:"mui--pull-right mui-btn mui-btn--small remove",onClick:this.onRemove,onTouchEnd:this.onRemove},"Remove"),c&&Object(i.h)("a",{class:"mui-btn mui-btn--small save",onClick:this.finishEdit,onTouchEnd:this.finishEdit,title:"Please click to save the comment. The comment will be published to other users with access to the code review."},"Save Comment"),!n&&Object(i.h)(a.Select,{modelValue:new p.ModelValue(t,"ratingType"),selectFalsey:!0,title:"If appropriate choose a category for this comment, or just leave as uncategorised.",onSelect:this.finishEdit,class:"comment-categories",items:e.ratings.map(e=>({name:e.title,value:e.ratingType})).concat([{name:"* uncategorised *",value:""}])}),!n&&Object(i.h)(l.default,{sentiment:t.sentiment,onChange:this.setSentiment}),e.canComment&&Object(i.h)("a",{class:"add-comment",onClick:this.onComment,onTouchEnd:this.onComment},"Comment"),s?Object(i.h)("span",{class:"mui--pull-right saving"},"• •• ••• ••••     SAVING     •••• ••• •• •"):null))}}!function(e,t,n,i){var s,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(c=(o<3?s(c):o>3?s(t,n,c):s(t,n))||c);o>3&&c&&Object.defineProperty(t,n,c)}([Object(d.default)()],g.prototype,"onComment",void 0)},726:function(e,t,n){"use strict";n.r(t),n.d(t,"ViewCodeFileComment",function(){return m});var i=n(0),s=n(36),o=n(6),c=n(479),r=n(91),l=n(17),a=n(360),d=n(1),h=n(480);class m extends o.View{constructor(){super(...arguments),this.onComment=(()=>{const e=this.props;this.emit(new a.CommentChangeEvent(0,e.codeFile,e.line,!!e.publicView,e.comment,e.challengeInvitation.recipient?e.challengeInvitation.recipient.id:null))})}isNewComment(e,t){if(t.updatedAt&&e.lastViewTimestamp){const n=s(e.lastViewTimestamp);return s(t.updatedAt).diff(n)>0}return!1}render(e){const t=e.comment;let n=t&&t.authorId===d.UserService.instance.getCurrentProfileId(),s=void 0,o=e.canComment,l="line-comment";if("codeFile"in e){const c=e.challengeInvitation;e.forceViewMode&&(o=!1),e.publicView&&c.recipient&&t.authorId===c.recipient.id&&(n=!0);const r=t.authorId===c.recipient.id;s=Object(i.h)(h.CommentAuthorIcon,{challengeInvitation:c,comment:t,publicView:e.publicView}),l+=(n?" self":"")+(r?" recipient":"")+(this.isNewComment(e,t)?" new":"")}else l+=n?" self":"";return Object(i.h)("div",{class:"comment"},Object(i.h)("div",{class:l},s,t.sentiment&&Object(i.h)(c.default,{sentiment:t.sentiment}),Object(i.h)(r.MarkdownDisplay,{markdown:t.content,sentiment:t.sentiment}),o&&Object(i.h)("a",{class:"mui-btn mui-btn--raised mui-btn--primary mui-btn--small",onClick:this.onComment,onTouchEnd:this.onComment},"Reply")))}}!function(e,t,n,i){var s,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(c=(o<3?s(c):o>3?s(t,n,c):s(t,n))||c);o>3&&c&&Object.defineProperty(t,n,c)}([Object(l.default)()],m.prototype,"onComment",void 0)}}]);